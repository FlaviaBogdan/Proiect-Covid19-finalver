{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\I353387\\\\Desktop\\\\proiect-covid-master\\\\src\\\\Components\\\\ColorMap.js\";\nimport React, { Component } from 'react';\nimport { Circle, FeatureGroup, LayerGroup, Map, Popup, Rectangle, TileLayer, Polygon, CircleMarker, Tooltip } from 'react-leaflet';\nimport Typography from '@material-ui/core/Typography';\nimport data from \"./countyRomania.json\";\nconst center = [51.505, -0.09];\nconst rectangle = [[51.49, -0.08], [51.5, -0.06]];\nexport default class OtherLayersExample extends Component {\n  constructor(props) {\n    super(props);\n\n    this.getRandomColor = () => {\n      var letters = '0123456789ABCDEF';\n      var color = '#';\n\n      for (var i = 0; i < 6; i++) {\n        color += letters[Math.floor(Math.random() * 16)];\n      }\n\n      return color;\n    };\n\n    this.getMapZoom = () => {\n      return this.map && this.map.leafletElement.getZoom();\n    };\n\n    this.enableDragging = () => {\n      if (this.getMapZoom() < 8) {\n        this.setState({\n          draggable: false\n        });\n        return;\n      }\n\n      this.setState({\n        draggable: true\n      });\n    };\n\n    this.state = {\n      lat: 46.0,\n      lng: 25.096306,\n      zoom: 7,\n      draggable: false,\n      day: props.day,\n      height: window.innerHeight - 64\n    };\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\n    console.log(this.state.height);\n  }\n\n  static getDerivedStateFromProps(props, state) {\n    if (props.day !== state.day) {\n      return {\n        day: props.day\n      };\n    }\n\n    return null;\n  }\n\n  componentDidMount() {\n    this.updateWindowDimensions();\n    window.addEventListener(\"resize\", this.updateWindowDimensions.bind(this));\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener(\"resize\", this.updateWindowDimensions.bind(this));\n  }\n\n  updateWindowDimensions() {\n    this.setState({\n      width: window.innerWidth,\n      height: window.innerHeight - 64\n    });\n  } //  drawCities = () => {\n  //    let arrCities = [];\n  //     for(let city in data.cities) {\n  //       let item = data.cities[city];\n  //       arrCities.push(item);\n  //     }\n  //     arrCities.map((city, i ) => {\n  //         return <Polygon\n  //         positions={city.geometry.coordinates}\n  //         color=\"red\"\n  //         >\n  //           <Tooltip>TOOLTIP</Tooltip>\n  //         </Polygon>\n  //     });\n  //  }\n\n\n  render() {\n    const position = [this.state.lat, this.state.lng]; // let arrCities = [];\n    // let arrCityNames = [];\n    // if (this.getMapZoom() > 8) {\n    //   for(let city in data.cities) {\n    //     let item = data.cities[city];\n    //     arrCities.push(item);\n    //     console.log(item);\n    //     arrCityNames.push(city);\n    //   }\n    // }\n\n    let arrCounty = [];\n\n    for (let position in data.features) {\n      let feature = data.features[position];\n      arrCounty.push(feature);\n      console.log(feature);\n    }\n\n    return /*#__PURE__*/React.createElement(Map, {\n      style: {\n        height: \"91vh\",\n        marginTop: \"64px\"\n      },\n      ref: ref => {\n        this.map = ref;\n      },\n      center: position,\n      zoom: this.state.zoom,\n      dragging: this.state.draggable,\n      minZoom: 6,\n      maxZoom: 10,\n      onzoomend: this.enableDragging,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, \">\", arrCounty.map((county, i) => {\n      return /*#__PURE__*/React.createElement(Polygon, {\n        key: i,\n        positions: county.geometry.coordinates,\n        color: this.getRandomColor(),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 22\n        }\n      }, /*#__PURE__*/React.createElement(Tooltip, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }\n      }, \"Judet: \", county.properties.name, /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 19\n        }\n      }), \"Populatie: \", county.properties.pop2011));\n    }), /*#__PURE__*/React.createElement(TileLayer, {\n      attribution: \"&copy <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(FeatureGroup, {\n      color: \"purple\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Popup, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 13\n      }\n    }, \"Popup in FeatureGroup\")));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/I353387/Desktop/proiect-covid-master/src/Components/ColorMap.js"],"names":["React","Component","Circle","FeatureGroup","LayerGroup","Map","Popup","Rectangle","TileLayer","Polygon","CircleMarker","Tooltip","Typography","data","center","rectangle","OtherLayersExample","constructor","props","getRandomColor","letters","color","i","Math","floor","random","getMapZoom","map","leafletElement","getZoom","enableDragging","setState","draggable","state","lat","lng","zoom","day","height","window","innerHeight","updateWindowDimensions","bind","console","log","getDerivedStateFromProps","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","width","innerWidth","render","position","arrCounty","features","feature","push","marginTop","ref","county","geometry","coordinates","properties","name","pop2011"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\r\nimport {\r\n  Circle,\r\n  FeatureGroup,\r\n  LayerGroup,\r\n  Map,\r\n  Popup,\r\n  Rectangle,\r\n  TileLayer,\r\n  Polygon,\r\n  CircleMarker,\r\n  Tooltip\r\n} from 'react-leaflet'\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\n\r\nimport data from \"./countyRomania.json\";\r\nconst center = [51.505, -0.09]\r\nconst rectangle = [\r\n  [51.49, -0.08],\r\n  [51.5, -0.06],\r\n]\r\n\r\n\r\nexport default class OtherLayersExample extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      lat: 46.0,\r\n      lng: 25.096306,\r\n      zoom: 7,\r\n      draggable: false,\r\n      day: props.day,\r\n      height: window.innerHeight - 64,\r\n   \r\n    };\r\n    this.updateWindowDimensions = this.updateWindowDimensions.bind(this);\r\n    console.log(this.state.height)\r\n  }\r\n\r\n  static getDerivedStateFromProps(props, state) {\r\n    if (props.day !== state.day) {\r\n      return {\r\n        day: props.day\r\n      }\r\n    }\r\n    return null;\r\n  }\r\n\r\n  map;\r\n  getRandomColor = () => {\r\n    var letters = '0123456789ABCDEF';\r\n    var color = '#';\r\n    for (var i = 0; i < 6; i++) {\r\n      color += letters[Math.floor(Math.random() * 16)];\r\n    }\r\n    return color;\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.updateWindowDimensions();\r\n    window.addEventListener(\"resize\", this.updateWindowDimensions.bind(this));\r\n}\r\n\r\ncomponentWillUnmount() {\r\n    window.removeEventListener(\"resize\", this.updateWindowDimensions.bind(this));\r\n}\r\n\r\nupdateWindowDimensions() {\r\n    this.setState({ width: window.innerWidth, height: window.innerHeight - 64});\r\n}\r\n  //  drawCities = () => {\r\n  //    let arrCities = [];\r\n  //     for(let city in data.cities) {\r\n  //       let item = data.cities[city];\r\n  //       arrCities.push(item);\r\n  //     }\r\n  //     arrCities.map((city, i ) => {\r\n  //         return <Polygon\r\n  //         positions={city.geometry.coordinates}\r\n  //         color=\"red\"\r\n  //         >\r\n  //           <Tooltip>TOOLTIP</Tooltip>\r\n  //         </Polygon>\r\n  //     });\r\n  //  }\r\n\r\n  getMapZoom = () => {\r\n    return this.map && this.map.leafletElement.getZoom();\r\n  }\r\n  enableDragging = () => {\r\n    if (this.getMapZoom() < 8) {\r\n      this.setState({ draggable: false });\r\n      return;\r\n    }\r\n    this.setState({ draggable: true });\r\n  };\r\n\r\n  render() {\r\n    const position = [this.state.lat, this.state.lng];\r\n    // let arrCities = [];\r\n    // let arrCityNames = [];\r\n    // if (this.getMapZoom() > 8) {\r\n    //   for(let city in data.cities) {\r\n    //     let item = data.cities[city];\r\n    //     arrCities.push(item);\r\n    //     console.log(item);\r\n    //     arrCityNames.push(city);\r\n    //   }\r\n    // }\r\n\r\n    let arrCounty = [];\r\n    for (let position in data.features) {\r\n      let feature = data.features[position];\r\n      arrCounty.push(feature);\r\n      console.log(feature);\r\n    }\r\n\r\n    return (\r\n        <Map style={{ height: \"91vh\", marginTop: \"64px\" }}\r\n          ref={(ref) => { this.map = ref }}\r\n          center={position}\r\n          zoom={this.state.zoom}\r\n          dragging={this.state.draggable}\r\n          minZoom={6}\r\n          maxZoom={10}\r\n          onzoomend={this.enableDragging}\r\n        >>\r\n          {/* {\r\n             arrCities.map((city, i ) => {\r\n              return <Polygon\r\n              key={i}\r\n              positions={city.geometry.coordinates}\r\n              color={this.getRandomColor()}\r\n              >\r\n                <Tooltip>\r\n                  {city.natLevName}: {arrCityNames[i]}\r\n                  <br/>\r\n                  Populatie: {city.population}\r\n                </Tooltip>\r\n              </Polygon>\r\n          })\r\n          } */}\r\n\r\n\r\n          {\r\n            arrCounty.map((county, i) => {\r\n              return <Polygon\r\n                key={i}\r\n                positions={county.geometry.coordinates}\r\n                color={this.getRandomColor()}\r\n              >\r\n                <Tooltip>\r\n                  Judet: {county.properties.name}\r\n                  <br />\r\n                  Populatie: {county.properties.pop2011}\r\n                </Tooltip>\r\n              </Polygon>\r\n            })\r\n          }\r\n          {/* <Polygon\r\n        positions={data.geometry.coordinates}\r\n        color=\"yellow\"\r\n        fillColor=\"black\"\r\n      >\r\n         <Tooltip>\r\n           Judet: {data.name}\r\n           <br/>\r\n          Populatie: {data.population}\r\n         </Tooltip>\r\n      </Polygon> */}\r\n          <TileLayer\r\n            attribution='&amp;copy <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          />\r\n          <FeatureGroup color=\"purple\">\r\n            <Popup>Popup in FeatureGroup</Popup>\r\n          </FeatureGroup>\r\n        </Map>\r\n    )\r\n  }\r\n}"]},"metadata":{},"sourceType":"module"}